apply plugin: 'java'

println 'Compiling Carbon 2 via Gradle ver. ' + gradle.gradleVersion

sourceCompatibility = '1.7'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

task wrapper(type: Wrapper) {
    gradleVersion = '2.1'
}

if (!hasProperty('mainClass')) {
    ext.mainClass = ''
}

jar {
    baseName "Carbon2"
}

file('libs').mkdirs()

ant.get src: 'https://dl.dropboxusercontent.com/u/71299154/Carbon2/spigotapi.jar', dest: file('libs'), verbose: false, skipexisting: true
ant.get src: 'https://dl.dropboxusercontent.com/u/71299154/Carbon2/spigot.jar', dest: file('libs'), verbose: false, skipexisting: true

dependencies {
    compile files('libs/spigot.jar')
}
